#+title: Crowdfunding
* DB
- Run container :: ~docker-compose up~
- Enter to container :: ~docker-compose exec mysql mysql -uroot -ppassword~
** Ubigeo
- Fill /region/, /province/ and /district/ dbs run :: ~npm run seed~
* Routes
** Ubigeo
- Departamentos :: GET ~/regions~
- Provincias :: GET ~/provinces/:id~
- Distritos :: GET ~/districts/:id~
** Create user
#+begin_src restclient
:base-url = http://localhost:4000/user
POST :base-url
Content-Type: application/json;charset=UTF-8
{
    "email":"crowdfunding@gmail.com",
    "name":"Ariana",
    "lastname":"Perez",
    "phone":"909823098123",
    "password":"roblox"
}
#+end_src

** Login
#+begin_src restclient
:base-url = http://localhost:4000/auth
POST :base-url
Content-Type: application/json;charset=UTF-8
{
    "email":"crowdfunding@gmail.com",
    "password":"roblox"
}
#+end_src

** Campaign
#+begin_src restclient
:base-url = http://localhost:4000/user/campaign
:token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJjcm93ZGZ1bmRpbmdAZ21haWwuY29tIiwiaWF0IjoxNjE5NjQ2Mzc4LCJleHAiOjE2MjA1MTAzNzgsImp0aSI6ImhvbGkifQ.l_aeMyXCv4GHLlrJD0EuiI1qgJqnIOHuXLVuqbUY7h4
POST :base-url
Content-Type: application/json
Authorization: Bearer :token
{
    "name":"Regalando Sonrisas",
    "type":"materiales"
}
#+end_src

*** List all campaigns by user
#+begin_src restclient
:base-url = http://localhost:4000/user/campaign
:token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJjcm93ZGZ1bmRpbmdAZ21haWwuY29tIiwiaWF0IjoxNjE5NjQ2Mzc4LCJleHAiOjE2MjA1MTAzNzgsImp0aSI6ImhvbGkifQ.l_aeMyXCv4GHLlrJD0EuiI1qgJqnIOHuXLVuqbUY7h4
GET :base-url
Content-Type: application/json
Authorization: Bearer :token
#+end_src

** Beneficiary
#+begin_src restclient
:base-url = http://localhost:4000/beneficiary
:token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJjcm93ZGZ1bmRpbmdAZ21haWwuY29tIiwiaWF0IjoxNjE5NTM2OTc2LCJleHAiOjE2MjA0MDA5NzYsImp0aSI6ImhvbGkifQ.wT1g3QHgAy49JEsCJxZRXLO6Ki19I-F2wJQfFCX91D0
POST :base-url
Content-Type: application/json;charset=UTF-8
Authorization: Bearer :token
{
    "name": "Carmelolll",
    "lastname": "Gallo",
     "maternal_lastname": "Valiente",
    "sex": "m",
    "nse": "__",
    "document": "65465412",
    "age": 45,
    "district": 20,
    "address": "laskdjf",
    "status": "lsakdjf",
    "campaign": 2
}
#+end_src

#+begin_src restclient
:base-url = http://localhost:4000/beneficiary?idCampaign=2
:token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJjcm93ZGZ1bmRpbmdAZ21haWwuY29tIiwiaWF0IjoxNjE5NTM2OTc2LCJleHAiOjE2MjA0MDA5NzYsImp0aSI6ImhvbGkifQ.wT1g3QHgAy49JEsCJxZRXLO6Ki19I-F2wJQfFCX91D0
GET :base-url
Authorization: Bearer :token
#+end_src

